{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\project-bolt-github-9myqnb1r\\\\project\\\\frontend\\\\src\\\\context\\\\globalContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"http://localhost:5000/api/v1/\";\nconst GlobalContext = /*#__PURE__*/React.createContext();\nexport const GlobalProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [editingItem, setEditingItem] = useState(null);\n\n  // Income functions\n  const addIncome = async income => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.post(`${BASE_URL}add-income`, income);\n      await getIncomes();\n      setLoading(false);\n      return {\n        success: true\n      };\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to add income');\n      setLoading(false);\n      return {\n        success: false\n      };\n    }\n  };\n  const getIncomes = async () => {\n    try {\n      const response = await axios.get(`${BASE_URL}get-incomes`);\n      setIncomes(response.data);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to fetch incomes');\n    }\n  };\n  const updateIncome = async (id, incomeData) => {\n    setLoading(true);\n    setError(null);\n    try {\n      await axios.put(`${BASE_URL}update-income/${id}`, incomeData);\n      await getIncomes();\n      setEditingItem(null);\n      setLoading(false);\n      return {\n        success: true\n      };\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Failed to update income');\n      setLoading(false);\n      return {\n        success: false\n      };\n    }\n  };\n  const deleteIncome = async id => {\n    setError(null);\n    try {\n      await axios.delete(`${BASE_URL}delete-income/${id}`);\n      await getIncomes();\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || 'Failed to delete income');\n    }\n  };\n  const totalIncome = () => {\n    let totalIncome = 0;\n    incomes.forEach(income => {\n      totalIncome = totalIncome + income.amount;\n    });\n    return totalIncome;\n  };\n\n  // Expense functions\n  const addExpense = async expense => {\n    setLoading(true);\n    setError(null);\n    try {\n      await axios.post(`${BASE_URL}add-expense`, expense);\n      await getExpenses();\n      setLoading(false);\n      return {\n        success: true\n      };\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || 'Failed to add expense');\n      setLoading(false);\n      return {\n        success: false\n      };\n    }\n  };\n  const getExpenses = async () => {\n    try {\n      const response = await axios.get(`${BASE_URL}get-expenses`);\n      setExpenses(response.data);\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      setError(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.message) || 'Failed to fetch expenses');\n    }\n  };\n  const updateExpense = async (id, expenseData) => {\n    setLoading(true);\n    setError(null);\n    try {\n      await axios.put(`${BASE_URL}update-expense/${id}`, expenseData);\n      await getExpenses();\n      setEditingItem(null);\n      setLoading(false);\n      return {\n        success: true\n      };\n    } catch (err) {\n      var _err$response7, _err$response7$data;\n      setError(((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : (_err$response7$data = _err$response7.data) === null || _err$response7$data === void 0 ? void 0 : _err$response7$data.message) || 'Failed to update expense');\n      setLoading(false);\n      return {\n        success: false\n      };\n    }\n  };\n  const deleteExpense = async id => {\n    setError(null);\n    try {\n      await axios.delete(`${BASE_URL}delete-expense/${id}`);\n      await getExpenses();\n    } catch (err) {\n      var _err$response8, _err$response8$data;\n      setError(((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : (_err$response8$data = _err$response8.data) === null || _err$response8$data === void 0 ? void 0 : _err$response8$data.message) || 'Failed to delete expense');\n    }\n  };\n  const totalExpenses = () => {\n    let totalExpense = 0;\n    expenses.forEach(expense => {\n      totalExpense = totalExpense + expense.amount;\n    });\n    return totalExpense;\n  };\n  const totalBalance = () => {\n    return totalIncome() - totalExpenses();\n  };\n  const transactionHistory = () => {\n    const history = [...incomes, ...expenses];\n    history.sort((a, b) => {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    });\n    return history.slice(0, 3);\n  };\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      // Income\n      addIncome,\n      getIncomes,\n      incomes,\n      updateIncome,\n      deleteIncome,\n      totalIncome,\n      // Expense\n      expenses,\n      addExpense,\n      getExpenses,\n      updateExpense,\n      deleteExpense,\n      totalExpenses,\n      // General\n      totalBalance,\n      transactionHistory,\n      error,\n      setError,\n      loading,\n      editingItem,\n      setEditingItem\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 9\n  }, this);\n};\n_s(GlobalProvider, \"8xwGknHKM7WpKueYHbWNtJu6faY=\");\n_c = GlobalProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(GlobalContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"GlobalProvider\");","map":{"version":3,"names":["React","useContext","useState","axios","BASE_URL","GlobalContext","createContext","GlobalProvider","children","incomes","setIncomes","expenses","setExpenses","error","setError","loading","setLoading","editingItem","setEditingItem","addIncome","income","response","post","getIncomes","success","err","data","message","get","updateIncome","id","incomeData","put","deleteIncome","delete","totalIncome","forEach","amount","addExpense","expense","getExpenses","updateExpense","expenseData","deleteExpense","totalExpenses","totalExpense","totalBalance","transactionHistory","history","sort","a","b","Date","createdAt","slice","useGlobalContext"],"sources":["C:/Users/hp/Downloads/project-bolt-github-9myqnb1r/project/frontend/src/context/globalContext.js"],"sourcesContent":["import React, { useContext, useState } from \"react\"\nimport axios from 'axios'\n\nconst BASE_URL = \"http://localhost:5000/api/v1/\"\n\nconst GlobalContext = React.createContext()\n\nexport const GlobalProvider = ({children}) => {\n    const [incomes, setIncomes] = useState([])\n    const [expenses, setExpenses] = useState([])\n    const [error, setError] = useState(null)\n    const [loading, setLoading] = useState(false)\n    const [editingItem, setEditingItem] = useState(null)\n\n    // Income functions\n    const addIncome = async (income) => {\n        setLoading(true)\n        setError(null)\n        try {\n            const response = await axios.post(`${BASE_URL}add-income`, income)\n            await getIncomes()\n            setLoading(false)\n            return { success: true }\n        } catch (err) {\n            setError(err.response?.data?.message || 'Failed to add income')\n            setLoading(false)\n            return { success: false }\n        }\n    }\n\n    const getIncomes = async () => {\n        try {\n            const response = await axios.get(`${BASE_URL}get-incomes`)\n            setIncomes(response.data)\n        } catch (err) {\n            setError(err.response?.data?.message || 'Failed to fetch incomes')\n        }\n    }\n\n    const updateIncome = async (id, incomeData) => {\n        setLoading(true)\n        setError(null)\n        try {\n            await axios.put(`${BASE_URL}update-income/${id}`, incomeData)\n            await getIncomes()\n            setEditingItem(null)\n            setLoading(false)\n            return { success: true }\n        } catch (err) {\n            setError(err.response?.data?.message || 'Failed to update income')\n            setLoading(false)\n            return { success: false }\n        }\n    }\n\n    const deleteIncome = async (id) => {\n        setError(null)\n        try {\n            await axios.delete(`${BASE_URL}delete-income/${id}`)\n            await getIncomes()\n        } catch (err) {\n            setError(err.response?.data?.message || 'Failed to delete income')\n        }\n    }\n\n    const totalIncome = () => {\n        let totalIncome = 0;\n        incomes.forEach((income) => {\n            totalIncome = totalIncome + income.amount\n        })\n        return totalIncome;\n    }\n\n    // Expense functions\n    const addExpense = async (expense) => {\n        setLoading(true)\n        setError(null)\n        try {\n            await axios.post(`${BASE_URL}add-expense`, expense)\n            await getExpenses()\n            setLoading(false)\n            return { success: true }\n        } catch (err) {\n            setError(err.response?.data?.message || 'Failed to add expense')\n            setLoading(false)\n            return { success: false }\n        }\n    }\n\n    const getExpenses = async () => {\n        try {\n            const response = await axios.get(`${BASE_URL}get-expenses`)\n            setExpenses(response.data)\n        } catch (err) {\n            setError(err.response?.data?.message || 'Failed to fetch expenses')\n        }\n    }\n\n    const updateExpense = async (id, expenseData) => {\n        setLoading(true)\n        setError(null)\n        try {\n            await axios.put(`${BASE_URL}update-expense/${id}`, expenseData)\n            await getExpenses()\n            setEditingItem(null)\n            setLoading(false)\n            return { success: true }\n        } catch (err) {\n            setError(err.response?.data?.message || 'Failed to update expense')\n            setLoading(false)\n            return { success: false }\n        }\n    }\n\n    const deleteExpense = async (id) => {\n        setError(null)\n        try {\n            await axios.delete(`${BASE_URL}delete-expense/${id}`)\n            await getExpenses()\n        } catch (err) {\n            setError(err.response?.data?.message || 'Failed to delete expense')\n        }\n    }\n\n    const totalExpenses = () => {\n        let totalExpense = 0;\n        expenses.forEach((expense) => {\n            totalExpense = totalExpense + expense.amount\n        })\n        return totalExpense;\n    }\n\n    const totalBalance = () => {\n        return totalIncome() - totalExpenses()\n    }\n\n    const transactionHistory = () => {\n        const history = [...incomes, ...expenses]\n        history.sort((a, b) => {\n            return new Date(b.createdAt) - new Date(a.createdAt)\n        })\n        return history.slice(0, 3)\n    }\n\n    return (\n        <GlobalContext.Provider value={{\n            // Income\n            addIncome,\n            getIncomes,\n            incomes,\n            updateIncome,\n            deleteIncome,\n            totalIncome,\n            \n            // Expense\n            expenses,\n            addExpense,\n            getExpenses,\n            updateExpense,\n            deleteExpense,\n            totalExpenses,\n            \n            // General\n            totalBalance,\n            transactionHistory,\n            error,\n            setError,\n            loading,\n            editingItem,\n            setEditingItem\n        }}>\n            {children}\n        </GlobalContext.Provider>\n    )\n}\n\nexport const useGlobalContext = () => {\n    return useContext(GlobalContext)\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}